{
  "version": 3,
  "sources": ["../../@tauri-apps/api/tray.js"],
  "sourcesContent": ["import { Resource, invoke, Channel } from './core.js';\nimport { transformImage } from './image.js';\nimport { PhysicalPosition, PhysicalSize } from './dpi.js';\n\n// Copyright 2019-2024 Tauri Programme within The Commons Conservancy\n// SPDX-License-Identifier: Apache-2.0\n// SPDX-License-Identifier: MIT\n/**\n * Tray icon class and associated methods. This type constructor is private,\n * instead, you should use the static method {@linkcode TrayIcon.new}.\n *\n * #### Warning\n *\n * Unlike Rust, javascript does not have any way to run cleanup code\n * when an object is being removed by garbage collection, but this tray icon\n * will be cleaned up when the tauri app exists, however if you want to cleanup\n * this object early, you need to call {@linkcode TrayIcon.close}.\n *\n * @example\n * ```ts\n * import { TrayIcon } from '@tauri-apps/api/tray';\n * const tray = await TrayIcon.new({ tooltip: 'awesome tray tooltip' });\n * tray.set_tooltip('new tooltip');\n * ```\n */\nclass TrayIcon extends Resource {\n    constructor(rid, id) {\n        super(rid);\n        this.id = id;\n    }\n    /** Gets a tray icon using the provided id. */\n    static async getById(id) {\n        return invoke('plugin:tray|get_by_id', { id }).then((rid) => rid ? new TrayIcon(rid, id) : null);\n    }\n    /**\n     * Removes a tray icon using the provided id from tauri's internal state.\n     *\n     * Note that this may cause the tray icon to disappear\n     * if it wasn't cloned somewhere else or referenced by JS.\n     */\n    static async removeById(id) {\n        return invoke('plugin:tray|remove_by_id', { id });\n    }\n    /**\n     * Creates a new {@linkcode TrayIcon}\n     *\n     * #### Platform-specific:\n     *\n     * - **Linux:** Sometimes the icon won't be visible unless a menu is set.\n     * Setting an empty {@linkcode Menu} is enough.\n     */\n    static async new(options) {\n        if (options === null || options === void 0 ? void 0 : options.menu) {\n            // @ts-expect-error we only need the rid and kind\n            options.menu = [options.menu.rid, options.menu.kind];\n        }\n        if (options === null || options === void 0 ? void 0 : options.icon) {\n            options.icon = transformImage(options.icon);\n        }\n        const handler = new Channel();\n        if (options === null || options === void 0 ? void 0 : options.action) {\n            const action = options.action;\n            handler.onmessage = (e) => action(mapEvent(e));\n            delete options.action;\n        }\n        return invoke('plugin:tray|new', {\n            options: options !== null && options !== void 0 ? options : {},\n            handler\n        }).then(([rid, id]) => new TrayIcon(rid, id));\n    }\n    /**\n     *  Sets a new tray icon. If `null` is provided, it will remove the icon.\n     *\n     * Note that you may need the `image-ico` or `image-png` Cargo features to use this API.\n     * To enable it, change your Cargo.toml file:\n     * ```toml\n     * [dependencies]\n     * tauri = { version = \"...\", features = [\"...\", \"image-png\"] }\n     * ```\n     */\n    async setIcon(icon) {\n        let trayIcon = null;\n        if (icon) {\n            trayIcon = transformImage(icon);\n        }\n        return invoke('plugin:tray|set_icon', { rid: this.rid, icon: trayIcon });\n    }\n    /**\n     * Sets a new tray menu.\n     *\n     * #### Platform-specific:\n     *\n     * - **Linux**: once a menu is set it cannot be removed so `null` has no effect\n     */\n    async setMenu(menu) {\n        if (menu) {\n            // @ts-expect-error we only need the rid and kind\n            menu = [menu.rid, menu.kind];\n        }\n        return invoke('plugin:tray|set_menu', { rid: this.rid, menu });\n    }\n    /**\n     * Sets the tooltip for this tray icon.\n     *\n     * #### Platform-specific:\n     *\n     * - **Linux:** Unsupported\n     */\n    async setTooltip(tooltip) {\n        return invoke('plugin:tray|set_tooltip', { rid: this.rid, tooltip });\n    }\n    /**\n     * Sets the tooltip for this tray icon.\n     *\n     * #### Platform-specific:\n     *\n     * - **Linux:** The title will not be shown unless there is an icon\n     * as well.  The title is useful for numerical and other frequently\n     * updated information.  In general, it shouldn't be shown unless a\n     * user requests it as it can take up a significant amount of space\n     * on the user's panel.  This may not be shown in all visualizations.\n     * - **Windows:** Unsupported\n     */\n    async setTitle(title) {\n        return invoke('plugin:tray|set_title', { rid: this.rid, title });\n    }\n    /** Show or hide this tray icon. */\n    async setVisible(visible) {\n        return invoke('plugin:tray|set_visible', { rid: this.rid, visible });\n    }\n    /**\n     * Sets the tray icon temp dir path. **Linux only**.\n     *\n     * On Linux, we need to write the icon to the disk and usually it will\n     * be `$XDG_RUNTIME_DIR/tray-icon` or `$TEMP/tray-icon`.\n     */\n    async setTempDirPath(path) {\n        return invoke('plugin:tray|set_temp_dir_path', { rid: this.rid, path });\n    }\n    /** Sets the current icon as a [template](https://developer.apple.com/documentation/appkit/nsimage/1520017-template?language=objc). **macOS only** */\n    async setIconAsTemplate(asTemplate) {\n        return invoke('plugin:tray|set_icon_as_template', {\n            rid: this.rid,\n            asTemplate\n        });\n    }\n    /**\n     *  Disable or enable showing the tray menu on left click.\n     *\n     * #### Platform-specific:\n     *\n     * - **Linux**: Unsupported.\n     *\n     * @deprecated use {@linkcode TrayIcon.setShowMenuOnLeftClick} instead.\n     */\n    async setMenuOnLeftClick(onLeft) {\n        return invoke('plugin:tray|set_show_menu_on_left_click', {\n            rid: this.rid,\n            onLeft\n        });\n    }\n    /**\n     *  Disable or enable showing the tray menu on left click.\n     *\n     * #### Platform-specific:\n     *\n     * - **Linux**: Unsupported.\n     *\n     * @since 2.2.0\n     */\n    async setShowMenuOnLeftClick(onLeft) {\n        return invoke('plugin:tray|set_show_menu_on_left_click', {\n            rid: this.rid,\n            onLeft\n        });\n    }\n}\nfunction mapEvent(e) {\n    const out = e;\n    out.position = new PhysicalPosition(e.position);\n    out.rect.position = new PhysicalPosition(e.rect.position);\n    out.rect.size = new PhysicalSize(e.rect.size);\n    return out;\n}\n\nexport { TrayIcon };\n"],
  "mappings": "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",
  "names": []
}
